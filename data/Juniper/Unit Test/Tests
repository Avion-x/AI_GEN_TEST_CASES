 ###STARTLIST###
[
  {
    "testname": "Bootup Config Retrieve Test 1", 
    "testcase": {
      "testname": "Bootup Config Retrieve Test 1",
      "objective": "Verify bootup config can be retrieved from MX240",
      "steps": [
        "Connect to MX240 console", 
        "Send command 'show configuration'",
        "Verify bootup configuration is displayed"
      ],
      "testdata": {
        "device": "MX240",
        "mgmt_ip": "192.168.0.1",
        "username": "admin",
        "password": "juniper123"
      }
    },
    "testscript": {
      "testname": "Bootup Config Retrieve Test 1",
      "objective": "Verify bootup config can be retrieved from MX240", 
      "file_name": "test_bootup_config_retrieve_1.py",
      "init_scripts": [
        "pip install ncclient",
        "pip install xmltodict"
      ],
      "script": """
import ncclient
from ncclient import manager
import xmltodict

DEVICE_IP = '192.168.0.1'
USERNAME = 'admin'
PASSWORD = 'juniper123'

with manager.connect(
    host=DEVICE_IP, 
    port=22, 
    username=USERNAME, 
    password=PASSWORD,
    hostkey_verify=False
) as m:

    netconf_reply = m.get_config(source='running')

print(xmltodict.parse(netconf_reply.xml)['rpc-reply']['configuration'])
      """,
      "run_command": "python test_bootup_config_retrieve_1.py",
      "expected_result": "Bootup configuration of MX240 is printed"
    }
  },

  {
    "testname": "Bootup Config Retrieve Test 2",
    "testcase": {
      "testname": "Bootup Config Retrieve Test 2",
      "objective": "Verify bootup config can be retrieved from backup MX240",
      "steps": [
        "Connect to backup MX240 console",
        "Send command 'show configuration'", 
        "Verify bootup configuration is displayed"
      ],
      "testdata": { 
        "device": "Backup MX240",
        "mgmt_ip": "192.168.0.2",
        "username": "admin",
        "password": "juniper123"
      }
    },
    "testscript": {
      "testname": "Bootup Config Retrieve Test 2",
      "objective": "Verify bootup config can be retrieved from backup MX240",
      "file_name": "test_bootup_config_retrieve_2.py",
      "init_scripts": [
        "pip install ncclient",
        "pip install xmltodict"  
      ],
      "script": """
import ncclient
from ncclient import manager  
import xmltodict

DEVICE_IP = '192.168.0.2'
USERNAME = 'admin'
PASSWORD = 'juniper123'

with manager.connect(
    host=DEVICE_IP,
    port=22,
    username=USERNAME,
    password=PASSWORD,
    hostkey_verify=False
) as m:

    netconf_reply = m.get_config(source='running')

print(xmltodict.parse(netconf_reply.xml)['rpc-reply']['configuration'])
      """,
      "run_command": "python test_bootup_config_retrieve_2.py",
      "expected_result": "Bootup configuration of backup MX240 is printed"
    }
  },

  {
    "testname": "Bootup Config Retrieve Test 3",
    "testcase": {
      "testname": "Bootup Config Retrieve Test 3",
      "objective": "Verify bootup config can be retrieved from MX240 cluster node 1",
      "steps": [
        "Connect to MX240 cluster node 1 console",
        "Send command 'show configuration'",
        "Verify bootup configuration is displayed"  
      ],
      "testdata": {
        "device": "MX240 Cluster Node 1",
        "mgmt_ip": "192.168.0.3",
        "username": "admin",
        "password": "juniper123"
      }
    },
    "testscript": {
      "testname": "Bootup Config Retrieve Test 3",
      "objective": "Verify bootup config can be retrieved from MX240 cluster node 1",
      "file_name": "test_bootup_config_retrieve_3.py",
      "init_scripts": [ 
        "pip install ncclient",
        "pip install xmltodict"
      ],
      "script": """
import ncclient
from ncclient import manager
import xmltodict

DEVICE_IP = '192.168.0.3' 
USERNAME = 'admin'
PASSWORD = 'juniper123'

with manager.connect(
    host=DEVICE_IP,
    port=22,
    username=USERNAME,
    password=PASSWORD,
    hostkey_verify=False
) as m:

    netconf_reply = m.get_config(source='running')

print(xmltodict.parse(netconf_reply.xml)['rpc-reply']['configuration'])
      """,
      "run_command": "python test_bootup_config_retrieve_3.py",
      "expected_result": "Bootup configuration of MX240 cluster node 1 is printed"
    }
  },

  {
    "testname": "Bootup Config Retrieve Test 4", 
    "testcase": {
      "testname": "Bootup Config Retrieve Test 4",
      "objective": "Verify bootup config can be retrieved from MX240 cluster node 2",
      "steps": [
        "Connect to MX240 cluster node 2 console",
        "Send command 'show configuration'",
        "Verify bootup configuration is displayed"
      ],
      "testdata": {
        "device": "MX240 Cluster Node 2",
        "mgmt_ip": "192.168.0.4",
        "username": "admin", 
        "password": "juniper123"
      }
    },
    "testscript": {
      "testname": "Bootup Config Retrieve Test 4",
      "objective": "Verify bootup config can be retrieved from MX240 cluster node 2",
      "file_name": "test_bootup_config_retrieve_4.py",
      "init_scripts": [
        "pip install ncclient",
        "pip install xmltodict"
      ],
      "script": """
import ncclient
from ncclient import manager
import xmltodict

DEVICE_IP = '192.168.0.4'
USERNAME = 'admin' 
PASSWORD = 'juniper123'

with manager.connect(
    host=DEVICE_IP,
    port=22, 
    username=USERNAME,
    password=PASSWORD,
    hostkey_verify=False
) as m:

    netconf_reply = m.get_config(source='running')

print(xmltodict.parse(netconf_reply.xml)['rpc-reply']['configuration'])
      """,
      "run_command": "python test_bootup_config_retrieve_4.py",
      "expected_result": "Bootup configuration of MX240 cluster node 2 is printed"
    }
  },

  {
    "testname": "Bootup Config Retrieve Test 5",
    "testcase": {
      "testname": "Bootup Config Retrieve Test 5",
      "objective": "Verify bootup config can be retrieved from new MX240",
      "steps": [
        "Connect to new MX240 console",
        "Send command 'show configuration'",
        "Verify default bootup configuration is displayed" 
      ],
      "testdata": {
        "device": "New MX240",  
        "mgmt_ip": "192.168.0.5",
        "username": "admin",
        "password": "juniper123"
      }
    },
    "testscript": {
      "testname": "Bootup Config Retrieve Test 5",
      "objective": "Verify bootup config can be retrieved from new MX240",
      "file_name": "test_bootup_config_retrieve_5.py",
      "init_scripts": [
        "pip install ncclient",
        "pip install xmltodict"
      ],
      "script": """
import ncclient
from ncclient import manager
import xmltodict

DEVICE_IP = '192.168.0.5'  
USERNAME = 'admin'
PASSWORD = 'juniper123'

with manager.connect(
    host=DEVICE_IP,
    port=22, 
    username=USERNAME,
    password=PASSWORD,
    hostkey_verify=False
) as m:

    netconf_reply = m.get_config(source='running')

print(xmltodict.parse(netconf_reply.xml)['rpc-reply']['configuration'])
      """,
      "run_command": "python test_bootup_config_retrieve_5.py",
      "expected_result": "Default bootup configuration of new MX240 is printed"
    }
  }
]
###ENDLIST###