 ###STARTLIST###
[
  {
    "testname": "Bootup Configuration Retrieval Test", 
    "testcase": {
      "testname": "Bootup Configuration Retrieval Test",
      "objective": "Verify that the device retrieves the startup configuration from persistent storage during bootup",
      "steps": [
        "1. Power on the device", 
        "2. Check that the device reads the startup configuration from persistent storage",
        "3. Verify that the startup configuration is applied successfully"
      ]
    },
    "testscript": {
      "testname": "Bootup Configuration Retrieval Test",
      "objective": "Verify that the device retrieves the startup configuration from persistent storage during bootup",
      "file_name": "test_bootup_config_retrieval.py",
      "init_scripts": [
        "pip install paramiko",
        "pip install netmiko"
      ],
      "script": """
          import unittest
          from netmiko import ConnectHandler

          class TestBootupConfigRetrieval(unittest.TestCase):

              def test_bootup_config_retrieval(self):
                  device = {
                      'device_type': 'juniper',
                      'ip': '192.168.1.1',
                      'username': 'admin',
                      'password': 'admin'
                  }
                  
                  ssh_conn = ConnectHandler(**device)
                  ssh_conn.enable()
                  
                  # Check the startup configuration
                  output = ssh_conn.send_command('show configuration')
                  
                  # Verify startup configuration was loaded
                  self.assertIn('system { host-name mx240; }', output)
                  
                  ssh_conn.disconnect()
      """,
      "run_command": "python test_bootup_config_retrieval.py",
      "expected_result": "OK"
    }
  },
  {
    "testname": "Bootup Hardware Initialization Test",
    "testcase": {
      "testname": "Bootup Hardware Initialization Test",
      "objective": "Verify that hardware components are initialized correctly during bootup",
      "steps": [
        "1. Power on the device",
        "2. Check console logs for hardware initialization messages",
        "3. Verify hardware components are ready and operational"  
      ]
    },
    "testscript": {
      "testname": "Bootup Hardware Initialization Test",
      "objective": "Verify that hardware components are initialized correctly during bootup",
      "file_name": "test_bootup_hardware_init.py", 
      "init_scripts": [
        "pip install paramiko"
      ],
      "script": """
        import re
        import unittest
        from paramiko import SSHClient
        
        class TestBootupHardwareInit(unittest.TestCase):
        
            def test_bootup_hardware_init(self):
                ssh = SSHClient()
                ssh.load_system_host_keys()
                ssh.connect('192.168.1.1', username='admin', password='admin')
                
                stdin, stdout, stderr = ssh.exec_command('show log messages | match "Hardware initialization"')
                
                init_logs = stdout.read().decode('utf-8')
                
                self.assertRegex(init_logs, r'PIC [0-9]+ is ready')
                self.assertRegex(init_logs, r'MIC [0-9]+ is ready')
                
                ssh.close()
      """,
      "run_command": "python test_bootup_hardware_init.py",
      "expected_result": "OK"
    }
  }
]
###ENDLIST###