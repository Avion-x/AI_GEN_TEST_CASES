 ###STARTLIST###
[
  {
    "testname": "Bootup Configuration Retrieval Test",
    "testcase": {
      "testname": "Bootup Configuration Retrieval Test", 
      "objective": "To verify the system can retrieve startup configuration from persistent storage during bootup",
      "steps": [
        "1. Power on the device",
        "2. Verify startup configuration is retrieved from persistent storage", 
        "3. Verify running configuration matches startup configuration"
      ]
    },
    "testscript": {
      "testname": "Bootup Configuration Retrieval Test",
      "objective": "To verify the system can retrieve startup configuration from persistent storage during bootup", 
      "file_name": "test_bootup_config_retrieval.py",
      "init_scripts": [
        "pip install paramiko"  
      ],
      "script": """
        import paramiko
        
        def test_bootup_config_retrieval(ip, username, password):
          ssh = paramiko.SSHClient()
          ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
          ssh.connect(ip, username=username, password=password)
        
          stdin, stdout, stderr = ssh.exec_command("show configuration")
          running_config = stdout.read().decode()
        
          stdin, stdout, stderr = ssh.exec_command("show configuration rollback 0") 
          startup_config = stdout.read().decode()
        
          if running_config == startup_config:
            print("Test Passed")
          else:
            print("Test Failed")
        
          ssh.close()
      """,
      "run_command": "python test_bootup_config_retrieval.py 192.168.1.1 admin admin123",
      "expected_result": "Test Passed"
    }
  },
  
  {
    "testname": "Bootup Hardware Initialization Test",
    "testcase": {
      "testname": "Bootup Hardware Initialization Test",
      "objective": "To verify hardware components are detected and initialized during bootup",
      "steps": [
        "1. Power on the device", 
        "2. Verify CPU, memory, ports, fans are detected",
        "3. Verify hardware components initialization messages in logs" 
      ]
    },
    "testscript": {
      "testname": "Bootup Hardware Initialization Test",
      "objective": "To verify hardware components are detected and initialized during bootup",
      "file_name": "test_bootup_hardware_init.py",
      "init_scripts": [
        "pip install paramiko"
      ],
      "script": """
        import paramiko
        
        def test_bootup_hardware_init(ip, username, password):
          ssh = paramiko.SSHClient()
          ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
          ssh.connect(ip, username=username, password=password)
        
          stdin, stdout, stderr = ssh.exec_command("show chassis hardware")
          hw_info = stdout.read().decode()
        
          stdin, stdout, stderr = ssh.exec_command("show log messages | match initialized")  
          init_logs = stdout.read().decode()
        
          if ("Fan" in hw_info) and ("PIC" in hw_info) and (" initialized" in init_logs):
            print("Test Passed")
          else:
            print("Test Failed")
        
          ssh.close()
      """,
      "run_command": "python test_bootup_hardware_init.py 192.168.1.1 admin admin123", 
      "expected_result": "Test Passed"
    }
  }
]
###ENDLIST###