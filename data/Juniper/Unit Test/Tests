 ###STARTLIST###

[
  {
    "testname": "QoS Marking Test for MX240", 
    "testcase": {
      "testname": "Verify QoS Marking",
      "objective": "Verify QoS marking based on DSCP values",
      "steps": [
        "Configure QoS policy to mark traffic based on DSCP values", 
        "Send traffic matching the DSCP values",
        "Verify traffic is marked with expected DSCP values"
      ]
    },
    "testscript": {
      "testname": "QoS Marking Test Script",
      "objective": "Automate QoS Marking test case",
      "file_name": "qos_marking_test.py",
      "init_scripts": [
        "pip install paramiko",
        "pip install jnpr.junos"
      ],
      "script": """
import logging
from jnpr.junos import Device
from jnpr.junos.utils.config import Config

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger("QoSMarkingTest")

device = Device(host='192.168.1.1', user='test', password='Password')
device.open()

cfg = Config(device)
cfg.load('set class-of-service dscp af11 marking 50', format='set')
cfg.pdiff()

logger.info("Traffic configured with dscp af11 will be marked as DSCP 50") 
      """,
      "run_command": "python qos_marking_test.py", 
      "expected_result": "Traffic with DSCP 10 is marked as DSCP 50"
    }
  }
]

###ENDLIST###